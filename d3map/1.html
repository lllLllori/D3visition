<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge"> -->
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <title>Document</title>
    <script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
</head>
<body>
    <script type="text/javascript">
        
        var width = 1600;
        var height = 900;
        // var color = d3.schemePastel1;
        // var color = d3.scale.category20b();

        var svg = d3.select("body")
        .append("svg")
        .attr("width",width)
        .attr("height",height);

        // 定义地图的投影
        var projection = d3.geoMercator() // mercator是投影方法的一种
            .center([0,0]) // 设置中心
            .scale(140) //设置缩放量
            .translate([width/1.9,height/1.6]); //设置平移量

        // 定义地理路径生成器
        var path = d3.geoPath()
            .projection(projection); // 设定投影
    
        
        // 获取geojson的文件
        d3.json("gistfile1.json",function(error,root) {
        // 所读取到的地图信息保存在data变量里
            if(error)
                return console.error(error);
            console.log(root);

            var groups = svg.append("g");

            groups.selectAll("path")
            .data(root.features)
            .enter()
            .append("path")
            .attr("class","country")
            .style("fill","black")
            .attr("d",path); // 使用路径生成器
            // 路径相关的属性都保存在“d”中，基于绑定到这个分组的数据来生产路径信息
        })
        
    </script>

</body>
</html>